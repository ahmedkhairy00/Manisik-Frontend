<!-- Toolbar -->
<div class="bg-green-700 text-white py-16 shadow-none flex flex-col items-start ">
  <div class="w-full max-w-[1150px] mx-auto px-6">
    <div class="text-left">
      <h1 class="text-4xl font-bold mb-2">Transport Services</h1>
      <p class="text-sm opacity-90">Choose your international and local transport options</p>
    </div>
  </div>
</div>

<!-- Pending Bookings Alerts -->
<div *ngIf="pendingTransportBooking" class="container mx-auto px-6 max-w-[1200px] mt-6">
  <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
    <div class="flex justify-between items-center">
      <div class="flex items-center">
        <span class="material-icons text-yellow-600 mr-2">info</span>
        <p class="text-sm text-yellow-700">
          You have a pending international transport booking.
        </p>
      </div>
      <div>
        <button class="text-red-600 hover:text-red-800 text-sm font-bold ml-4" (click)="discardTransportDraft()">
          Discard
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="pendingGroundBooking" class="container mx-auto px-6 max-w-[1200px] mt-2">
  <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
    <div class="flex justify-between items-center">
      <div class="flex items-center">
        <span class="material-icons text-yellow-600 mr-2">info</span>
        <p class="text-sm text-yellow-700">
          You have a pending ground transport booking.
        </p>
      </div>
      <div>
        <button class="text-red-600 hover:text-red-800 text-sm font-bold ml-4" (click)="discardGroundDraft()">
          Discard
        </button>
      </div>
    </div>
  </div>
</div>

<!-- International Transport -->
<div class="container mx-auto px-6 max-w-[1200px] mt-10">
  <h1 class="text-3xl font-bold text-gray-900 mb-3">International Transport to Saudi Arabia</h1>

  <!-- Tabs -->
  <div class="flex gap-2 mb-8">
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow active:bg-gray-100 active:text-gray-900"
      (click)="setTransportType('Plane')">
      <span class="material-icons">flight</span> Air Transport
    </button>
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow hover:bg-gray-100 hover:text-gray-900"
      (click)="setTransportType('Ship')">
      <span class="material-icons">directions_boat</span> Sea Transport
    </button>
  </div>

  <!-- Search Form -->
  <div class="bg-white p-8 rounded shadow mb-8">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-5 items-end">
      <div class="flex flex-col">
        <label class="text-xs text-gray-600 mb-2">From</label>
        <select [(ngModel)]="searchParams.departureLocation"
          class="px-4 py-3 border border-gray-300 rounded focus:border-green-700" ngDefaultControl required>
          <option [ngValue]="null" disabled selected>Select Departure Airport</option>
          <option *ngFor="let departureAirport of departureAirports" [ngValue]="departureAirport">
            {{ departureAirport }}
          </option>
        </select>
      </div>

      <!-- To -->
      <div class="flex flex-col">
        <label class="text-xs text-gray-600 mb-2">To</label>
        <select [(ngModel)]="searchParams.arrivalLocation"
          class="px-4 py-3 border border-gray-300 rounded focus:border-green-700" required>
          <option [ngValue]="null" disabled selected>Select Arrival Airport</option>
          <option *ngFor="let arrivalAirport of arrivalAirports" [ngValue]="arrivalAirport">
            {{ arrivalAirport }}
          </option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="text-xs text-gray-600 mb-2">Departure Date</label>
        <input type="date" [(ngModel)]="searchParams.departureDate"
          class="px-4 py-3 border border-gray-300 rounded focus:border-green-700">
      </div>
      <div class="flex flex-col">
        <label class="text-xs text-gray-600 mb-2">Return Date</label>
        <input type="date" [(ngModel)]="searchParams.returnDate"
          class="px-4 py-3 border border-gray-300 rounded focus:border-green-700">
      </div>
      <button class="bg-green-700 text-white px-8 py-3 rounded font-medium hover:bg-green-800"
        (click)="searchflight()">Search Flights</button>
    </div>
  </div>

  <div *ngIf="errorMessage" class="text-red-900 bg-red-200 border border-red-300 p-4 rounded mb-4">{{ errorMessage }}
  </div>

  <!-- Flight Cards -->
  <div *ngFor="let flight of flights"
    class="bg-white p-8 rounded shadow mb-6 grid grid-cols-1 md:grid-cols-[80px_1fr_auto] gap-6 items-center">
    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center font-bold text-xl">{{
      flight.carrierName.substring(0,2) }}</div>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      <div>
        <h3 class="text-lg font-medium">{{ flight.carrierName }}</h3>
        <div class="flex items-center gap-1 text-gray-600 text-sm">
          <span class="material-icons text-yellow-500 text-base">star</span>
          <strong>4.8</strong> (2340 reviews)
        </div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase">Duration</div>
        <div class="text-sm font-medium flex items-center gap-1">
          <span class="material-icons text-sm align-middle">schedule</span> {{ flight.duration.slice(0, 2) +"d - " +
          flight.duration.slice(3, 5) + " h - " + flight.duration.slice(6, 8) + "m" }}
        </div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase">Class</div>
        <div class="text-sm font-medium">{{ flight.flightClass }}</div>
      </div>
      <div>
        <div class="text-xs text-gray-500 uppercase">Stops</div>
        <div *ngIf="flight.stops=='0'" class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">
          Direct</div>
      </div>
    </div>
    <div class="text-right">
      <div class="text-3xl font-bold text-green-700 mb-3">{{ flight.price }} EGP</div>
      <ul class="text-sm text-gray-600 mb-3">
        <li class="flex items-center gap-1"><span class="material-icons text-green-700">check</span> Meals included</li>
        <li class="flex items-center gap-1"><span class="material-icons text-green-700">check</span> 30kg baggage</li>
        <li class="flex items-center gap-1"><span class="material-icons text-green-700">check</span> Entertainment</li>
      </ul>
      <button class="bg-green-700 text-white px-6 py-2 rounded font-medium hover:bg-green-800"
        (click)="bookFlight(flight)">Book Flight</button>
    </div>
  </div>
</div>


<!-- Ground Transport -->
<div class="container mx-auto px-6 max-w-[1200px] mt-16">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-2">Transport Within Saudi Arabia</h1>
    <p class="text-gray-600 text-sm">Choose your preferred mode of transport for travel between cities in Saudi Arabia
    </p>
  </div>

  <!-- Tabs -->
  <div class="flex gap-2 mb-8">
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow hover:bg-gray-100 hover:text-gray-900"
      (click)="searchByType('PublicBus')">
      <span class="material-icons">directions_bus</span> Public Bus
    </button>
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow hover:bg-gray-100 hover:text-gray-900"
      (click)="searchByType('Train')">
      <span class="material-icons">train</span> Train
    </button>
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow hover:bg-gray-100 hover:text-gray-900"
      (click)="searchByType('UberCareem')">
      <span class="material-icons">local_taxi</span> Uber/Careem
    </button>
    <button
      class="flex items-center gap-2 px-6 py-3 rounded bg-white text-gray-600 shadow hover:bg-gray-100 hover:text-gray-900"
      (click)="searchByType('PrivateCar')">
      <span class="material-icons">directions_car</span> Private Car
    </button>
  </div>

  <!-- Services Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div *ngFor="let transport of groundTransports" class="bg-white p-6 rounded shadow">
      <div class="flex items-center gap-4 mb-4">
        <div class="text-3xl">
          <span *ngIf="transport.type=='Train'">üöÜ</span>
          <span *ngIf="transport.type=='UberCareem'||transport.type=='PrivateCar'">üöñ</span>
          <span *ngIf="transport.type=='PublicBus'">üöç</span>
        </div>
        <div>
          <h3 class="text-xl font-medium">{{ transport.serviceName }}</h3>
          <div class="flex items-center gap-2 text-sm text-gray-600">
            <span class="material-icons text-yellow-500 text-base">star</span>
            {{ transport.rate }}
          </div>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-4 mb-4 border-b pb-4">
        <div>
          <span class="text-xs text-gray-500 uppercase">Route</span>
          <div class="text-sm font-medium">{{ transport.route }}</div>
        </div>
        <div>
          <span class="text-xs text-gray-500 uppercase">Duration</span>
          <div class="text-sm font-medium">{{ transport.duration }}</div>
        </div>
      </div>
      <div class="mb-4">
        <div *ngFor="let amenity of transport.amenities" class="flex items-center gap-2 text-sm text-gray-600">
          <span class="material-icons text-green-700 text-base">check</span>
          {{ amenity }}
        </div>
      </div>
      <div class="flex justify-between items-center">
        <div>
          <span class="text-xs text-gray-500">From</span>
          <div class="text-2xl font-bold text-green-700">{{ transport.pricePerPerson | currency:'EGP':'symbol':'1.0-0'
            }}</div>
        </div>
        <button class="bg-green-700 text-white px-6 py-2 rounded font-medium hover:bg-green-800">Book Now</button>
      </div>
    </div>

  </div>
</div>